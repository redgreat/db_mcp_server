# DB MCP Server - 快速开始指南

## 🎯 5 分钟快速配置 TRAE

### 步骤 1: 启动服务

```bash
cd d:\github\db_mcp_server
docker-compose up -d
```

### 步骤 2: 创建访问密钥

1. 打开浏览器访问: `http://localhost:3000/admin`
2. 登录（默认：`admin` / `admin123`）
3. 进入 **"访问密钥"** 页面
4. 点击 **"添加密钥"**
5. 输入密钥名称（如：`my_trae_key`）
6. 复制生成的密钥

### 步骤 3: 添加数据库连接

1. 进入 **"连接管理"** 页面
2. 点击 **"添加连接"**
3. 填写数据库信息：
   - 名称：`测试数据库`
   - 主机：`localhost`
   - 端口：`3306`
   - 类型：`MySQL`
   - 数据库：`test`
   - 用户名：`root`
   - 密码：`your_password`
4. 点击 **"添加保存"**
5. 记住连接的 ID（第一列）

### 步骤 4: 授权连接

1. 回到 **"访问密钥"** 页面
2. 找到刚才创建的密钥
3. 点击 **"+ 授权连接"**
4. 勾选刚才创建的数据库连接
5. 选择权限（只读/读写）
6. 点击 **"确认授权"**

### 步骤 5: 配置 TRAE

1. 找到 TRAE 配置文件：
   - Windows: `%APPDATA%\TRAE\mcp_config.json`
   - macOS: `~/Library/Application Support/TRAE/mcp_config.json`
   - Linux: `~/.config/TRAE/mcp_config.json`

2. 添加以下内容：

```json
{
  "mcpServers": {
    "my-database": {
      "url": "http://localhost:3000/mcp/sse",
      "transport": "sse",
      "headers": {
        "X-Access-Key": "步骤2中复制的密钥"
      }
    }
  }
}
```

3. 保存文件并重启 TRAE

### 步骤 6: 测试

在 TRAE 中与 AI 对话：

```
你：请帮我查看数据库中有哪些表，connection_id 是 1

AI：（自动调用 list_tables 工具）
好的，我发现数据库中有以下表：
- users
- orders
- products
...
```

## 🎉 完成！

现在您可以在 TRAE 中通过自然语言操作数据库了！

## 📚 更多文档

- [详细配置指南](./TRAE_SSE配置指南.md)
- [安全配置](./TRAE_SSE配置指南.md#安全配置)
- [故障排查](./TRAE_SSE配置指南.md#故障排查)

## ⚠️ 重要提示

1. **生产环境请使用 HTTPS**
2. **定期更换访问密钥**
3. **配置 IP 白名单**
4. **监控审计日志**
5. **最小权限原则**
